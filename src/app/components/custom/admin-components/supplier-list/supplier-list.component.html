<app-dashboard-sidemenu></app-dashboard-sidemenu>

<!-- Start Main Content Wrapper Area -->
<div class="main-content d-flex flex-column">

    <app-dashboard-navbar></app-dashboard-navbar>

    <!-- Breadcrumb Area -->
    <!-- <div class="send-email-checker2"> -->
    <div class="breadcrumb-area" *ngFor="let Content of breadcrumb;">
        <h1>{{Content.title}}</h1>
        <ol class="breadcrumb">
            <li class="item"><a routerLink="/">Home</a></li>
            <li class="item"><a routerLink="/dashboard">{{Content.subTitle}}</a></li>
            <li class="item">{{Content.title}}</li>
        </ol>
    </div>
    <!-- </div> -->
    <!-- End Breadcrumb Area -->

    <!-- Start -->
    <div class="card">
        <p-table #dt2 [value]="supplierList"
            dataKey="supplierId" [rows]="10"
            responsiveLayout="scroll" [showCurrentPageReport]="true"
            [rowsPerPageOptions]="[10,20,30,50]"
            [paginator]="true" currentPageReportTemplate="Showing {first} to
            {last} of {totalRecords} entries" [filterDelay]="0"
            [globalFilterFields]="['emailAddress','mobileNo','supplierAddress','manufacturingProcessList','materialofconstructionList',
            'isVerify' , 'supplierName' , 'isApproved', 'jdeNo']">
            <ng-template pTemplate="caption">
                <span class="p-input-icon-left d-flex align-items-center">
                    <i class="pi pi-search"></i>
                    <input pInputText type="text"
                        (input)="dt2.filterGlobal($event.target.value,
                        'contains')"
                        placeholder="Global Search" [(ngModel)]="filterval" />
                    <!-- <p-calendar appendTo="body" class="ml-2" dateFormat="dd-mm-yy" placeholder="Bill Date"
                                 [(ngModel)]="dateFilterVal"
                                (onSelect)="searchFilter($event)">
                            </p-calendar> -->
                    <p-button type="button" class="ml-2" (click)="reset(dt2)"
                        icon="bx bx-reset"></p-button>
                </span>
            </ng-template>

            <ng-template pTemplate="header">
                <tr>
                    <th>S.No.</th>
                    <th>Action</th>
                    <th style="min-width: 150px;">JDE No.</th>
                    <th>Checker1</th>
                    <th style="min-width: 180px;">Checker2</th>
                    <th style="width: 200px;">Supplier Name</th>
                    <th>Supplier Email</th>
                    <th>Mobile No</th>
                    <th style="min-width: 150px;">Supplier Address</th>
                    <th style="min-width: 220px;">Manufacturing Process List</th>
                    <th style="min-width: 220px;">Material of Construction List</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-customer let-i="rowIndex">
                <tr class="p-selectable-row">
                    <td>{{i+1}}</td>
                    <td class="d-flex">
                        <button pButton pRipple type="button" icon="bx bx-show"
                            class="p-button-rounded p-button-primary
                            p-button-text"
                            (click)="openModal(customer.supplierId , 'show')"></button>
                    </td>
                    <td>{{customer.jdeNo ? customer.jdeNo : '-'}}</td>
                    <td>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isVerify == 'Verified'"
                            [label]="customer.isVerify" class="p-button-rounded
                            p-button-success status_button" style="font-size:
                            12px; padding:
                            0.2rem 1rem;"></button>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isVerify == 'Pending'"
                            [label]="customer.isVerify" class="p-button-rounded
                            status_button pending"></button>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isVerify == 'Rework'"
                            [label]="customer.isVerify" class="p-button-rounded
                            p-button-info status_button"></button>
                        <button pButton pRipple type="button"
                            (click)="openModal(customer.supplierId ,'show')"
                            *ngIf="customer.isVerify == 'Rejected'"
                            [label]="customer.isVerify" class="p-button-rounded
                            p-button-danger status_button"></button>
                    </td>
                    <td style="min-width: 220px;">
                        <button pButton pRipple type="button"
                            *ngIf="customer.isApproved == 'Approved'"
                            (click)="jdeWindow(customer)"
                            label="Approved for JDE" class="p-button-rounded
                            p-button-success status_button"></button>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isApproved == 'Registered'"
                            label="Registered In JDE" class="p-button-rounded registered_button status_button"></button>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isApproved == 'Pending'"
                            label="Awaiting Checker2 Approval"
                            class="p-button-rounded status_button pending"></button>
                        <a href="javascript:void(0)" *ngIf="customer.isApproved
                            == '' && customer.isVerify == 'Verified' &&
                            userroleName.checker1 == true"
                            (click)="confirm1(customer)">Send to Checker2</a>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isApproved == 'Rework'"
                            [label]="customer.isApproved"
                            class="p-button-rounded p-button-info
                            status_button"></button>
                        <button pButton pRipple type="button"
                            *ngIf="customer.isApproved == 'Rejected'"
                            [label]="customer.isApproved"
                            class="p-button-rounded p-button-danger
                            status_button"></button>
                        <span *ngIf="customer.isVerify == '' || customer.isVerify == 'Pending' || customer.isVerify == 'Rework'">-</span>
                    </td>
                    <td style="min-width: 200px;">
                        <span>{{customer.supplierName }}</span>
                    </td>
                    <td>
                        <span class="image-text">{{customer.emailAddress}}</span>
                    </td>
                    <td>
                        <span class="image-text">{{customer.mobileNo}}</span>
                    </td>
                    <td style="min-width: 150px;">
                        <span class="image-text">{{customer.supplierAddress}}</span>
                    </td>
                    <td style="min-width: 180px;">
                        <span class="image-text">{{customer.manufacturingProcessList}}</span>
                    </td>
                    <td style="min-width: 180px;">
                        <span class="image-text">{{customer.materialofconstructionList}}</span>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="5">No customers found.</td>
                </tr>
            </ng-template>
        </p-table>
        <div class="flex-grow-1"></div>
    </div>
    <!-- End -->

    <app-copyrights></app-copyrights>

</div>



<p-dialog [header]="this.header" [(visible)]="display" [modal]="true"
    [style]="{width: '70vw'}" [draggable]="false" [resizable]="false">
    <div class="container authentication">
        <!-- registerform -->
        <div class="signup-form">
            <!-- supplier registration form -->
            <div class="row" *ngIf="readonly">
                <div class="col-lg-3 col-md-12 form-group">
                    <select class="form-control form-select" id="applicable"
                        required [disabled]="userCapture"
                        [(ngModel)]="supplierListById.statusCapture">
                        <ng-container *ngFor="let approvalStatus of approvalStatus">
                            <option [value]='approvalStatus.value'>{{approvalStatus.name}}</option>
                        </ng-container>
                    </select>
                </div>
                <div class="col-lg-3 col-md-12 form-group" *ngIf="!userCapture">
                    <p-multiSelect [filter]="false" [showToggleAll]="false"
                        class="multiselect-custom-virtual-scroll"
                        [options]="document_dropdown" placeholder="Select
                        Documents" [disabled]="supplierListById.statusCapture ==
                        'Rejected' || supplierListById.statusCapture ==
                        'Pending'" [(ngModel)]="document"
                        optionLabel="value"></p-multiSelect>
                </div>
                <div class="col-lg-4 col-md-12 form-group" *ngIf="!userCapture">
                    <textarea class="form-control" placeholder="Remarks" [disabled]="supplierListById.statusCapture
                        == 'Pending'" [(ngModel)]="supplierRemark"
                        autocomplete="off" required></textarea>
                </div>
                <div class="col-lg-2 d-flex" style="align-items: center;">
                    <input type="checkbox" [(ngModel)]="assessmentBoolean"><label
                        for="">Assessment</label>
                </div>

                <div class="row" *ngIf="assessmentBoolean">
                    <div class="col-lg-4 col-md-6 col-sm-12 form-group">
                        <label for="">Assessment Document</label>
                        <ng-container *ngIf="supplierListById.assessmentUpload
                            == '' || supplierListById.assessmentUpload == null;
                            then firstblock else secondblock"></ng-container>
                        <ng-template #secondblock>
                            <label for=""><a
                                    [href]="supplierListById.assessmentUpload"
                                    target="_blank"
                                    [download]="supplierListById.assessmentUpload">Preview</a><span
                                    (click)="supplierListById.assessmentUpload=
                                    null" style="cursor: pointer;
                                    margin-left:5px;">x</span></label>
                        </ng-template>

                        <ng-template #firstblock class="form-group">
                            <input type="file" class="form-control"
                                (change)="upload_doc($event , 'Assessment')">
                        </ng-template>
                    </div>
                </div>

                <div class="add-listings-btn col-lg-2 col-md-12 form-group"
                    *ngIf="!userCapture">
                    <div class="submit-toggle1">
                        <button type="submit" class="submit_btn"
                            (click)="captureStatus(supplierListById ,
                            'Submit')">Submit</button>
                    </div>
                </div>
            </div>

            <div class="section-heading">
                <h5>Supplier Certificates</h5>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-12 form-group">
                    <a [href]="supplierListById.documentUploadPath" style="font-size:13px; font-weight: 600; color: var(--mainColor);"
                        target="_blank" (click)="downloadImage(supplierListById.documentUploadPath)"
                        [download]="supplierListById.documentUploadPath">Organization Profile</a>
                </div>
                <ng-container *ngFor="let doc of certificates">
                    <ng-container *ngIf="doc.documentPath != '' &&
                        doc.documentName != ''">
                        <div class="col-lg-3 col-md-6 col-sm-12 form-group">
                            <!-- <span class="form-control"> -->
                            <a [href]="doc.documentPath" style="font-size:13px;
                                font-weight: 600; color: var(--mainColor);"
                                target="_blank"
                                [download]="doc.documentPath">{{doc.documentName}}</a>
                            <!-- </span> -->
                        </div>
                    </ng-container>
                </ng-container>
                <div class="col-lg-3 col-md-6 col-sm-12 form-group">
                    <a [href]="supplierListById.cancelledCheque"
                        target="_blank" style="font-size:13px; font-weight: 600;
                        color: var(--mainColor);"
                        [download]="supplierListById.cancelledCheque">Cancelled
                        Cheque Preview</a>
                </div>
            </div>

            <!-- Supplier / Vendor Master - Supplier Master -->
            <div class="section-heading">
                <h5>Supplier / Vendor Master - Supplier Master</h5>
            </div>

            <!-- row-1 -->
            <div class="row">
                <div class="col-lg-4 col-md-12 form-group" *ngIf="supplierListById.jdeNo">
                    <label for="first-name">JDE No. </label>
                    <input type="text" readonly="true"
                        class="form-control"
                        placeholder="Enter JDE No."
                        [(ngModel)]="supplierListById.jdeNo"
                        autocomplete="off" required
                        />
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-md-12 form-group">
                    <label for="first-name">Supplier Name<span
                            class="star_class">*</span></label>
                        <input type="text" [readonly]="readonly"
                            class="form-control"
                            placeholder="Enter Supplier Name"
                            [(ngModel)]="supplierListById.supplierName"
                            autocomplete="off" minlength="3" maxlength='35'
                            required
                            />
                            </div>
                        <div class="col-lg-8 col-md-12 form-group">
                            <label for="address">Address with Pincode<span
                                    class="star_class">*</span></label>
                            <div class="d-flex">
                                <textarea name="" id="" cols="1" rows="1"
                                    placeholder="Enter Your Address"
                                    [(ngModel)]="supplierListById.supplierAddress"
                                    class="form-control" type="text" [readonly]="readonly" required></textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- row-2 -->
                            <div class="row">
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="state">State<span
                                            class="star_class">*</span></label>
                                    <select class="form-control form-select"
                                        [disabled]="readonly"
                                        [(ngModel)]="supplierListById.stateId"
                                        minlength="3"
                                        maxlength="35" required>
                                        <ng-container *ngFor="let value of stateDropdown">
                                            <option [value]="value.id"
                                                [disabled]="readonly">{{value.value}}</option>
                                        </ng-container>
                                    </select>
                                </div>
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="city">Purpose<span
                                            class="star_class">*</span></label>
                                    <select class="form-control form-select"
                                        [disabled]="readonly"
                                        [(ngModel)]="supplierListById.purposeId"
                                        minlength="3"
                                        maxlength="35" required>
                                        <ng-container *ngFor="let value of
                                            purposeDropdown">
                                            <option [value]="value.id"
                                                [disabled]="readonly">{{value.value}}</option>
                                        </ng-container>
                                    </select>
                                </div>
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="city">Service Provided<span
                                            class="star_class">*</span></label>
                                    <input type="text" class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.services"
                                        autocomplete="off"
                                        placeholder="Services" required />
                                </div>
                            </div>

                            <!-- row-3 -->
                            <div class="row">
                                <div class="col-lg-5 col-md-12 form-group">
                                    <label for="city">In case of Intercompany
                                        correct Co. No. In GL off</label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.interCompany"
                                        autocomplete="off" placeholder="Enter CO
                                        No." />
                                </div>
                                <div class="col-lg-3 col-md-12 form-group">
                                    <label for="credit">Payment Terms<span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.payTermsId"
                                        autocomplete="off" placeholder="Enter CO
                                        No." />
                                </div>

                                <div class="col-lg-4 col-md-12 form-group"
                                    *ngIf="supplierListById.documentUploadPath
                                    && !displayProfile">
                                    <label for="">Organization Profile</label>
                                    <label><a
                                            [href]="supplierListById.documentUploadPath"
                                            target="_blank" (click)="downloadImage(supplierListById.documentUploadPath)"
                                            [download]="supplierListById.documentUploadPath">Preview</a></label>
                                </div>
                                <div class="col-lg-4 col-md-12 form-group"
                                    *ngIf="displayProfile ||
                                    supplierListById.documentUploadPath == ''">
                                    <label for="">Organization Profile</label>
                                    <span>-</span>
                                    <!-- <input class="form-control" type="file"
                                        #organizationProfile
                                        (change)="upload_doc($event ,
                                        'organizationProfile')"
                                        accept="image/jpeg,image/gif,image/png,application/pdf"
                                        autocomplete="off" required /> -->
                                </div>

                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="tds-applicable">TDS Applicable<span
                                            class="star_class">*</span></label>
                                    <input type="text" class="form-control"
                                        *ngIf="supplierListById.tdsApplicable"
                                        value="Yes" [readonly]="readonly"
                                        autocomplete="off"
                                        placeholder="Services" required />
                                    <input type="text" class="form-control"
                                        *ngIf="!supplierListById.tdsApplicable"
                                        value="No" [readonly]="readonly"
                                        autocomplete="off"
                                        placeholder="Services" required />
                                </div>



                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="email">Whether Domestic or
                                        Foreign <span
                                            class="star_class">*</span></label>
                                    <select class="form-control form-select"
                                        [disabled]="true"
                                        [(ngModel)]="supplierListById.isDomestic"
                                        minlength="3"
                                        maxlength="35" required>
                                        <option value="false" selected>Domestic</option>
                                        <option value="true">Foreign</option>
                                    </select>
                                </div>
                                <div class="col-lg-4 col-md-12 form-group"
                                    *ngIf="supplierListById.isDomestic">
                                    <label for="email">If Foreign give Currency
                                        <span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.currency"
                                        id="currency"
                                        placeholder="Enter Currency Type" />
                                </div>
                            </div>

                            <!-- Tax Registration Details -->


                            <div class="section-heading">
                                <h5>Tax Registration Details</h5>
                            </div>

                            <!-- row-5 -->
                            <div class="row" *ngIf="!
                                supplierListById.isDomestic">
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="city">GSTIN<span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.gstinNo"
                                        placeholder="Enter GSTIN"
                                        minlength="15"
                                        maxlength="15" autocomplete="off"
                                        required/>
                                </div>
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="city">GSTIN Date<span
                                            class="star_class">*</span></label>
                                    <p-calendar [disabled]="readonly"
                                        [(ngModel)]="supplierListById.date"
                                        placeholder="Select
                                        GSTIN Date" required></p-calendar>
                                </div>
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="city">PAN <span
                                            class="star_class">*</span></label>
                                    <input class="form-control" type="text"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.panNo"
                                        minlength="10"
                                        maxlength="10" required
                                        autocomplete="off" />
                                </div>
                            </div>

                            <!-- row-6 -->
                            <div class="row">
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="city">TAN Number</label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.tanNo"
                                        placeholder="Enter TAN Number" minlength="10"
                                        maxlength="10"
                                        autocomplete="off" />
                                </div>
                                <div class="col-lg-4 col-md-12 form-group">
                                    <label for="email">MSME Applicable<span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        *ngIf="supplierListById.msmeApplicable"
                                        value="Yes"
                                        placeholder="Enter TAN Number"
                                        minlength="10"
                                        maxlength="10" autocomplete="off" />
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        *ngIf="!supplierListById.msmeApplicable"
                                        value="No"
                                        placeholder="Enter TAN Number"
                                        minlength="10"
                                        maxlength="10" autocomplete="off" />
                                </div>
                            </div>



                            <!-- Vendor Contact Details -->

                            <div class="section-heading">
                                <h5>Supplier Contact Details</h5>
                            </div>

                            <!-- row-7 -->
                            <div class="row">
                                <div class="col-lg-4 form-group">
                                    <label for="contact">Contact Person<span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        placeholder="Enter
                                        Contact Person"
                                        [(ngModel)]="supplierListById.contactPerson"
                                        autocomplete="off" required/>
                                </div>
                                <div class="col-lg-4 form-group">
                                    <label for="tel">Contact Number<span
                                            class="star_class">*</span></label>
                                    <input class="form-control" maxlength="10"
                                        [(ngModel)]="supplierListById.mobileNo"
                                        maxlength="10"
                                        placeholder="Enter Contact Number"
                                        autocomplete="off" [readonly]="readonly"
                                        required/>
                                </div>
                                <div class="col-lg-4 form-group">
                                    <label for="fax">FAX Number</label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        maxlength="10"
                                        [(ngModel)]="supplierListById.faxNo"
                                        placeholder="Enter Fax Number"
                                        autocomplete="off" />
                                </div>
                                <div class="col-lg-4 form-group">
                                    <label for="email">Email Address<span
                                            class="star_class">*</span></label>
                                    <span class="form-control">{{supplierListById.emailAddress}}</span>
                                </div>
                                <div class="col-lg-4 form-group">
                                    <label for="email">Alternet Email Address<span
                                            class="star_class">*</span></label>
                                    <input class="form-control" type="text"
                                        [disabled]="readonly"
                                        [(ngModel)]="supplierListById.alternateEmail"
                                        placeholder="Enter Email Address"
                                        autocomplete="off" required/>
                                </div>
                            </div>

                            <!-- Vendor Bank Details -->
                            <div class="section-heading">
                                <h5>Bank Details</h5>
                            </div>
                            <!-- row-8-->
                            <div class="row">
                                <div class="col-lg-3 form-group">
                                    <label for="ifscCode">Account Type<span
                                            class="star_class">*</span></label>
                                    <div style="display: flex;">
                                        <div style="display: flex; align-items:
                                            center; margin:
                                            0 5px;">
                                            <input type="radio" value="C"
                                                [(ngModel)]="supplierListById.accountType"
                                                autocomplete="off" disabled /> <span
                                                style="margin: 0
                                                2px; font-size: 13px;" >Current
                                                Account</span>
                                        </div>
                                        <div style="display: flex; align-items:
                                            center;">
                                            <input type="radio"
                                                [(ngModel)]="supplierListById.accountType"
                                                value="S"
                                                autocomplete="off" disabled /><span
                                                style="margin: 0
                                                2px; font-size: 13px;" >Saving
                                                Account</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <label for="bankName">Bank Name<span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        type="text"
                                        [(ngModel)]="supplierListById.bankName"
                                        placeholder="Enter Bank Name"
                                        autocomplete="off" />
                                </div>
                                <div class="col-lg-3 form-group">
                                    <label for="account">Account No.<span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        type="text"
                                        [(ngModel)]="supplierListById.accountNo"
                                        maxlength="16"
                                        placeholder="Enter Account No."
                                        autocomplete="off" />

                                </div>
                                <div class="col-lg-3 form-group">
                                    <label for="ifscCode">IFSC Code or Swift
                                        Code <span
                                            class="star_class">*</span></label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        type="text"
                                        [(ngModel)]="supplierListById.ifscCode"
                                        placeholder="Enter IFSC Code"
                                        autocomplete="off" />
                                </div>

                                <div class="col-lg-3 form-group">
                                    <label for="ifscCode">MICR No.</label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        type="text"
                                        maxlength="10"
                                        [(ngModel)]="supplierListById.micrNo"
                                        placeholder="Enter MICR No."
                                        autocomplete="off" />
                                </div>

                                <div class="col-lg-3 form-group">
                                    <label for="ifscCode">Bank Address</label>
                                    <input class="form-control"
                                        [readonly]="readonly"
                                        type="text"
                                        maxlength="10"
                                        [(ngModel)]="supplierListById.bankAddress"
                                        placeholder="Enter Bank Address"
                                        autocomplete="off" />
                                </div>

                                <div class="col-lg-3 form-group"
                                    *ngIf="supplierListById.cancelledCheque &&
                                    !displayCheque">
                                    <label for="account">Cancel Cheque<span
                                            class="star_class">*</span></label>
                                    <label><a
                                            [href]="supplierListById.cancelledCheque"
                                            target="_blank"
                                            [download]="supplierListById.cancelledCheque">Preview</a></label>
                                </div>
                                <div class="col-lg-3 form-group"
                                    *ngIf="displayCheque ||
                                    supplierListById.cancelledCheque == ''">
                                    <label for="account">Cancel Cheque<span
                                            class="star_class">*</span></label>
                                    <span>-</span>
                                    <!-- <input class="form-control" type="file"
                                        #cancelCheque
                                        (change)="upload_doc($event ,
                                        'cancelCheque')"
                                        accept="image/jpeg,image/gif,image/png,application/pdf"
                                        autocomplete="off" required /> -->
                                </div>
                            </div>

                            <!-- previous 3 years Turnover -->
                            <div class="section-heading">
                                <h5>Turnover Details</h5>
                            </div>

                            <!-- row-9 -->
                            <div class="row">
                                <div class="col-lg-3 form-group">
                                    <label for="city">Year of Establishment:<span
                                            class="star_class">*</span></label>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <p-calendar autocomplete="off" view="year"
                                        dateFormat="yy"
                                        [showIcon]="true" [disabled]="readonly"
                                        [(ngModel)]="supplierListById.yearOfEstablished"></p-calendar>
                                </div>
                                <div class="col-lg-3"></div>
                                <div class="col-lg-3 form-group d-flex
                                    align-items-center">
                                    <label for="city" style="margin: 0;">Upload Balance Sheet :</label>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-3 form-group" style="display:
                                    flex;
                                    justify-content:left; align-items: center;
                                    text-align:
                                    center;">
                                    <label for="city">Turnover (Year 1)<span
                                            class="star_class">*</span></label>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <p-calendar autocomplete="off" view="year"
                                        dateFormat="yy"
                                        [disabled]="readonly" [maxDate]="myDate"
                                        (onSelect)="setYears('year1')"
                                        [showIcon]="true"
                                        [(ngModel)]="supplierListById.year1"
                                        placeholder="Please Select Year"></p-calendar>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <div class="d-flex">
                                        <select class="form-select form-control
                                            select-currency"
                                            style="width: 80px; line-height :
                                            22px; display:
                                            flex; align-items:
                                            center; border-right:
                                            none!important;
                                            border-bottom-right-radius: 0;
                                            border-top-right-radius: 0;
                                            background-color:
                                            #f1f1f1!important;"
                                            [disabled]="readonly"
                                            [(ngModel)]="supplierListById.currencyId">
                                            <option value=""></option>
                                            <ng-container *ngFor="let currency
                                                of
                                                currencyDropdown">
                                                <option [value]="currency.id">{{currency.value}}</option>
                                            </ng-container>
                                        </select>

                                        <input class="form-control"
                                            style="border-left:
                                            none!important;
                                            border-bottom-left-radius: 0;
                                            border-top-left-radius: 0;"
                                            type="text" disabled
                                            [disabled]="readonly"
                                            placeholder="Enter Year Turnover"
                                            [(ngModel)]="supplierListById.turnover1"
                                            />
                                    </div>
                                </div>
                                <div class="col-lg-3 form-group"
                                    *ngIf="supplierListById.balanceSheet1 &&
                                    !displayYear1">
                                    <label><a
                                            [href]="_utility.getImageUrl(supplierListById.balanceSheet1)"
                                            target="_blank"
                                            [download]="_utility.getImageUrl(supplierListById.balanceSheet1)">Preview</a></label>
                                </div>
                                <div class="col-lg-3 form-group" style="text-align: center;"
                                    *ngIf="displayYear1 ||
                                    supplierListById.balanceSheet1 == ''">
                                    <span>-</span>
                                    <!-- <input class="form-control" type="file"
                                        #year1File
                                        accept="image/jpeg, image/png ,
                                        application/jpeg"
                                        (change)="upload_doc($event , 'year1')"
                                        autocomplete="off" /> -->
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-3 form-group" style="display:
                                    flex;
                                    justify-content:left; align-items: center;
                                    text-align:
                                    center;">
                                    <label for="city">Turnover (Year 2)<span
                                            class="star_class">*</span></label>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <p-calendar autocomplete="off" view="year"
                                        dateFormat="yy"
                                        [disabled]="readonly"
                                        (onSelect)="setYears('year2')"
                                        [showIcon]="true"
                                        [(ngModel)]="supplierListById.year2"
                                        placeholder="Please Select Year"></p-calendar>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <div class="d-flex">
                                        <select class="form-select form-control
                                            select-currency"
                                            style="width: 80px;
                                            line-height : 22px; display: flex;
                                            align-items:
                                            center; border-right:
                                            none!important;
                                            border-bottom-right-radius: 0;
                                            border-top-right-radius: 0;
                                            background-color:
                                            #f1f1f1!important;" disabled
                                            [(ngModel)]="supplierListById.currencyId">
                                            <option value=""></option>
                                            <ng-container *ngFor="let currency
                                                of
                                                currencyDropdown">
                                                <option [value]="currency.id">{{currency.value}}</option>
                                            </ng-container>
                                        </select>
                                        <input class="form-control"
                                            style="border-left:
                                            none!important;
                                            border-bottom-left-radius: 0;
                                            border-top-left-radius: 0;"
                                            type="text"
                                            [disabled]="readonly"
                                            placeholder="Enter Year Turnover"
                                            [(ngModel)]="supplierListById.turnover2"
                                            />
                                    </div>
                                </div>
                                <div class="col-lg-3 form-group"
                                    *ngIf="supplierListById.balanceSheet2 &&
                                    !displayYear2">
                                    <label><a [href]="_utility.getImageUrl(supplierListById.balanceSheet2)"
                                            target="_blank"
                                            [download]="_utility.getImageUrl(supplierListById.balanceSheet2)">Preview</a></label>
                                </div>
                                <div class="col-lg-3 form-group" style="text-align: center;"
                                    *ngIf="displayYear2 ||
                                    supplierListById.balanceSheet2 == ''">
                                    <span>-</span>
                                    <!-- <input class="form-control" type="file"
                                        #year2File
                                        accept="image/jpeg, image/png ,
                                        application/jpeg"
                                        (change)="upload_doc($event , 'year2')"
                                        autocomplete="off" /> -->
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-3 form-group" style="display:
                                    flex;
                                    justify-content:left; align-items: center;
                                    text-align:
                                    center;">
                                    <label for="city">Turnover (Year 3)<span
                                            class="star_class">*</span></label>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <p-calendar autocomplete="off" view="year"
                                        dateFormat="yy"
                                        [disabled]="readonly" [showIcon]="true"
                                        (onSelect)="setYears('year3')"
                                        [(ngModel)]="supplierListById.year3"
                                        placeholder="Please
                                        Select Year"></p-calendar>
                                </div>
                                <div class="col-lg-3 form-group">
                                    <div class="d-flex">
                                        <select class="form-select form-control
                                            select-currency"
                                            style="width: 80px;
                                            line-height : 22px; display: flex;
                                            align-items:
                                            center; border-right:
                                            none!important;
                                            border-bottom-right-radius: 0;
                                            border-top-right-radius: 0;
                                            background-color:
                                            #f1f1f1!important;" disabled
                                            [(ngModel)]="supplierListById.currencyId">
                                            <option value=""></option>
                                            <ng-container *ngFor="let currency of currencyDropdown">
                                                <option [value]="currency.id">{{currency.value}}</option>
                                            </ng-container>
                                        </select>
                                        <input class="form-control"
                                            style="border-left:
                                            none!important;
                                            border-bottom-left-radius: 0;
                                            border-top-left-radius: 0;"
                                            type="text" 
                                            [disabled]="readonly"
                                            placeholder="Enter Year Turnover"
                                            [(ngModel)]="supplierListById.turnover3"
                                            />
                                    </div>
                                </div>
                                <div class="col-lg-3 form-group"
                                    *ngIf="supplierListById.balanceSheet3 &&
                                    !displayYear3">
                                    <label><a
                                            [href]="_utility.getImageUrl(supplierListById.balanceSheet3)"
                                            target="_blank"
                                            [download]="_utility.getImageUrl(supplierListById.balanceSheet3)">Preview</a></label>
                                </div>
                                <div class="col-lg-3 form-group" style="text-align: center;"
                                    *ngIf="displayYear3 ||
                                    supplierListById.balanceSheet3 == ''">
                                    <span>-</span>
                                    <!-- <input class="form-control" type="file"
                                        #year3File
                                        accept="image/jpeg, image/png ,
                                        application/jpeg"
                                        (change)="upload_doc($event , 'year3')"
                                        autocomplete="off" /> -->
                                </div>
                            </div>


                            <div
                                class="section-heading"*ngIf="supplierListById.supplierDirectorsDetails?.length>
                                0" >
                                <h5>Authorized Signatory Details</h5>
                            </div>

                            <!-- row-10 -->

                            <ng-container *ngFor="let director of
                                supplierListById.supplierDirectorsDetails; index
                                as idx; last as
                                last">
                                <div class="row">
                                    <div class="form-group col-lg-4 col-md-4"
                                        style="margin-top:
                                        0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">
                                            Name<span class="star_class">*</span></label>
                                        <input class="form-control" type="text"
                                            [readonly]="readonly"
                                            placeholder="Enter Authorized
                                            Signatory Name"
                                            [(ngModel)]="director.directorName"
                                            autocomplete="off" />
                                    </div>
                                    <div class=" form-group col-lg-4 col-md-4"
                                        style="margin-top: 0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">
                                            Contact Number<span
                                                class="star_class">*</span></label>
                                        <input class="form-control" type="text"
                                            [readonly]="readonly"
                                            placeholder="Enter Authorized
                                            Signatory Contact"
                                            [(ngModel)]="director.mobileNo"
                                            maxlength="10"
                                            minlength="10" autocomplete="off" />
                                    </div>
                                    <div class="form-group col-lg-4 col-md-4"
                                        style="margin-top:
                                        0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">Email
                                            Address<span class="star_class">*</span></label>
                                        <input class="form-control" type="text"
                                            [readonly]="readonly"
                                            [(ngModel)]="director.email"
                                            placeholder="Enter
                                            Director Email Address"
                                            autocomplete="off" />
                                    </div>
                                </div>
                            </ng-container>
                            <div class="section-heading"
                                *ngIf="supplierListById.supplierMajorCustomersDetails?.length>0">
                                <h5>Major Customer</h5>
                            </div>
                            <div class="row">
                                <ng-container *ngFor="let majorCustomer of
                                    supplierListById.supplierMajorCustomersDetails;
                                    index as
                                    idx; last as last">
                                    <div class="form-group col-lg-3 col-md-12"
                                        style="margin-top: 0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">Organization
                                            Name</label>
                                        <input class="form-control"
                                            [readonly]="readonly"
                                            type="text"
                                            placeholder="Enter Organization
                                            Name"
                                            [(ngModel)]="majorCustomer.organizationName"
                                            autocomplete="off" />
                                    </div>
                                    <div class="form-group col-lg-2 col-md-12"
                                        style="margin-top: 0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">Designation</label>
                                        <input class="form-control"
                                            [readonly]="readonly"
                                            type="text"
                                            placeholder="Enter Your Designation"
                                            [(ngModel)]="majorCustomer.designation"
                                            autocomplete="off" />
                                    </div>
                                    <div class="form-group col-lg-3 col-md-12"
                                        style="margin-top: 0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">Contact
                                            Person</label>
                                        <input class="form-control"
                                            [readonly]="readonly"
                                            type="text"
                                            placeholder="Enter Contact Person
                                            Name"
                                            [(ngModel)]="majorCustomer.contactPerson"
                                            autocomplete="off" />
                                    </div>
                                    <div class="form-group col-lg-2 col-md-12"
                                        style="margin-top: 0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">Email
                                            Address</label>
                                        <input class="form-control"
                                            [readonly]="readonly"
                                            type="text"
                                            placeholder="Enter Email Address"
                                            [(ngModel)]="majorCustomer.email"
                                            autocomplete="off"
                                            />
                                    </div>
                                    <div class="form-group col-lg-2 col-md-12"
                                        style="margin-top: 0.3rem!important;">
                                        <label for="" style="margin-bottom:
                                            0.3rem!important;">Mobile
                                            no.</label>
                                        <input class="form-control"
                                            [readonly]="readonly"
                                            type="text"
                                            placeholder="Enter Mobile No."
                                            [(ngModel)]="majorCustomer.mobileNo"
                                            autocomplete="off" />
                                    </div>
                                </ng-container>
                            </div>
                            <div class="section-heading">
                                <h5>Manufacturing Scope</h5>
                            </div>
                            <!-- row-11 -->
                            <div class="row">
                                <div class="col-lg-3 col-md-12 form-group">
                                    <label for="">Manufacturing List</label>
                                    <p-multiSelect [filter]="false"
                                        [showToggleAll]="false"
                                        [options]="manufacturingArray"
                                        [disabled]="readonly"
                                        (onChange)="selectManufacturingList('manufacture')"
                                        [(ngModel)]="supplierListById.supplierManufacturingDropdown"
                                        class="multiselect-custom-virtual-scroll"
                                        placeholder="Select manufacture name"
                                        optionLabel="value" optionValue="id"></p-multiSelect>
                                </div>
                                <div class="col-lg-3 col-md-12 form-group">
                                    <label for="">Material Construction List</label>
                                    <p-multiSelect [filter]="false"
                                        [ngModelOptions]="{standalone: true}"
                                        [showToggleAll]="false"
                                        (onChange)="selectManufacturingList('material')"
                                        [disabled]="readonly"
                                        [(ngModel)]="supplierListById.supplierMaterialDropdown"
                                        class="multiselect-custom-virtual-scroll"
                                        [options]="materialConstructionArray"
                                        placeholder="Select material name"
                                        optionValue="id"
                                        optionLabel="value"></p-multiSelect>
                                </div>

                                <div class="col-lg-3 col-md-12 form-group">
                                    <label for="">Other Category</label>
                                    <select class="form-control form-select"
                                        [(ngModel)]="supplierListById.otherCategoryId"
                                        [disabled]="readonly">
                                        <option value="0">Select Other Category</option>
                                        <ng-container *ngFor="let dropdown of
                                            otherCategoryArray">
                                            <option [value]="dropdown.id">{{dropdown.value}}</option>
                                        </ng-container>
                                    </select>
                                </div>
                                <div class="col-lg-3 col-md-12 form-group" *ngIf="supplierListById.otherRemark">
                                    <label for="">Other Remarks</label>
                                    <input type="text" class="form-control"
                                        [readonly]="readonly"
                                        [(ngModel)]="supplierListById.otherRemark"
                                        placeholder="Enter Other Remarks">
                                </div>
                                <!-- <div class="add-listings-btn col-lg-2 col-md-12 form-group"
                    *ngIf="!readonly">
                    <div class="submit-toggle1">
                        <button type="submit" class="submit_btn"
                            (click)="captureStatus(supplierListById ,
                            'Update')">Update</button>
                    </div>
                </div> -->
                            </div>
                        </div>
    </div>
</p-dialog>

    <p-dialog [header]="this.jdeHeader" [(visible)]="displayJde"
        [modal]="true"
        [style]="{width: '30vw'}" [draggable]="false"
        [resizable]="false">
        <div class="row">
            <form action="" #jdeSubmit="ngForm"
                (ngSubmit)="submitJDE(jdeSubmit)">
                <div class="col-lg-12 col-md-12 form-group m-0">
                    <label for="first-name">JDE No.<span
                            class="star_class">*</span></label>
                    <input type="text" [(ngModel)]="jdeForm.jdeNo"
                        class="form-control"
                        placeholder="Enter JDE No." name="jdeNo"
                        autocomplete="off" minlength="2"
                        maxlength='35' required
                        />
                    <div *ngIf="jdeForm?.jdeNo?.length < 2 &&
                        jdeSubmit.submitted" class="error-msg">Please
                        Enter Atleast 2 digit JDE No.</div>
                </div>
                <div class="add-listings-btn col-lg-12 col-md-12
                    form-group">
                    <div class="submit-toggle1">
                        <button type="submit" class="submit_btn">Submit</button>
                    </div>
                </div>
            </form>
        </div>
    </p-dialog>
    <p-dialog header="Supplier Details" [(visible)]="displayFinance"
        [modal]="true"
        [style]="{width: '70vw'}" [draggable]="false"
        [resizable]="false">
        <app-finance [supplierList]="supplierListById"></app-finance>
    </p-dialog>

                <!-- <app-footer-style-one></app-footer-style-one> -->